# `smolagents`

`smolagents` is a lightweight library by Hugging Face that enables you to run powerful agents in a few lines of code. It distinguishes itself by offering **Code Agents**—agents that write their actions in Python code snippets rather than just outputting JSON tool calls.

## Project Overview

*   **Core Philosophy:** Minimal abstractions (~1,000 lines of core code) with maximum flexibility.
*   **Agent Types:**
    *   **`CodeAgent`**: Writes Python code to perform actions. This is the primary and recommended agent type.
    *   **`ToolCallingAgent`**: Traditional agent that outputs JSON/text blobs for tool execution.
*   **Model Agnostic:** Supports local Transformers, OpenAI, Anthropic, and any model via LiteLLM or Hugging Face Inference Endpoints.
*   **Sandboxing:** Supports secure execution via E2B, Blaxel, Modal, Docker, or WebAssembly (Pyodide).

## Installation

Install the package with default tools:

```bash
pip install "smolagents[toolkit]"
```

For development, install with dev dependencies:

```bash
pip install -e ".[dev]"
```

## Quick Start

Create a simple `CodeAgent` with web search capabilities:

```python
from smolagents import CodeAgent, WebSearchTool, InferenceClientModel

model = InferenceClientModel()
agent = CodeAgent(tools=[WebSearchTool()], model=model)

agent.run("How many seconds would it take for a leopard at full speed to run through Pont des Arts?")
```

## Directory Structure

```text
/home/gero/GitHub/DeepLearning_Lab/smolagents/
├── src/smolagents/       # Core library source code
│   ├── agents.py         # Main agent logic (CodeAgent, ToolCallingAgent)
│   ├── models.py         # Model wrappers (InferenceClientModel, LiteLLMModel, etc.)
│   ├── tools.py          # Tool definitions and base classes
│   ├── local_python_executor.py # Local code execution logic
│   ├── remote_executors.py      # Sandboxed execution (E2B, Docker, etc.)
│   └── cli.py            # CLI entry point (smolagent)
├── examples/             # Example scripts and implementations
│   ├── open_deep_research/ # Replication of OpenAI's Deep Research
│   └── ...               # Various specific examples (RAG, text-to-sql, etc.)
├── tests/                # Pytest suite
├── docs/                 # Documentation
├── Makefile              # Build and utility commands
├── pyproject.toml        # Project configuration and dependencies
└── README.md             # Main documentation
```

## Key Modules

*   **`src/smolagents/agents.py`**: Contains the `CodeAgent` and `ToolCallingAgent` classes. This is the heart of the library.
*   **`src/smolagents/models.py`**: Handles interactions with different LLM providers.
*   **`src/smolagents/tools.py`**: Base classes for creating custom tools.
*   **`src/smolagents/local_python_executor.py`**: The engine that executes the code generated by `CodeAgent`.

## Development Workflow

The project uses `make` to standardize development tasks.

*   **Check Code Quality:**
    ```bash
    make quality
    ```
    Runs `ruff` to check for linting errors and formatting.

*   **Format Code:**
    ```bash
    make style
    ```
    Automatically formats code using `ruff`.

*   **Run Tests:**
    ```bash
    make test
    ```
    Runs the test suite using `pytest`.

## CLI Usage

The library provides two CLI commands:

1.  **`smolagent`**: General-purpose agent runner.
    ```bash
    smolagent "Your prompt here" --tools web_search
    ```

2.  **`webagent`**: A vision-based web browsing agent.
    ```bash
    webagent "Browse xyz.com and find..."
    ```

## Advanced Examples

*   **Open Deep Research (`examples/open_deep_research/`)**: An agent that attempts to replicate OpenAI's Deep Research capabilities. It achieves competitive performance on the GAIA benchmark.
    *   To run: `python examples/open_deep_research/run.py "Your research question"`
